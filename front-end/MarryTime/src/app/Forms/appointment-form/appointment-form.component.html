<form [formGroup]="appointmentForm" (ngSubmit)="onSubmit()" class="appointment-form">
    <div class="form-group">
        <label class="form-label">Vendor</label>
        <input type="text" class="form-input" [value]="getVendorName()" (input)="filterVendors($event.target.value)"
            (focus)="showVendorDropdown = true" placeholder="Search vendor..." />
        <ul class="dropdown" *ngIf="showVendorDropdown && filteredVendors.length">
            <li *ngFor="let v of filteredVendors" (click)="selectVendor(v)">
                {{ v.name }}
            </li>
        </ul>
    </div>

    <div class="form-group">
        <label class="form-label">Category</label>
        <input type="text" class="form-input" [value]="getCategoryName()"
            (input)="filterCategories($event.target.value)" (focus)="showCategoryDropdown = true"
            placeholder="Search category..." />
        <ul class="dropdown" *ngIf="showCategoryDropdown && filteredCategories.length">
            <li *ngFor="let c of filteredCategories" (click)="selectCategory(c)">
                {{ c.name }}
            </li>
        </ul>
    </div>


    <div class="form-group">
        <label class="form-label">Date</label>
        <input formControlName="appointment_date" type="date" class="form-input" />
    </div>

    <div class="form-group">
        <label class="form-label">Location</label>
        <input formControlName="location" type="text" class="form-input" />
    </div>

    <div class="form-group">
        <label class="form-label">Guests</label>
        <input formControlName="guests" type="number" class="form-input" min="1" />
    </div>

    <div class="form-group">
        <label class="form-label">Tables</label>
        <input formControlName="tables" type="number" class="form-input" min="1" />
    </div>

    <div class="form-group">
        <label class="form-label">Notes</label>
        <textarea formControlName="notes" class="form-input"></textarea>
    </div>

    <button type="submit" class="form-submit" [disabled]="appointmentForm.invalid">
        Save Appointment
    </button>
</form>