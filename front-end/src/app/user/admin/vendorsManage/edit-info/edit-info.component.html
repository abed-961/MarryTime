<div *ngIf="loading" class="section">Loading vendor...</div>

<div *ngIf="!loading" class="form-container section">
    <h2>Vendor Details</h2>

    <!-- Vendor Name & Email as paragraph -->
    <p><strong>Name:</strong> {{ vendor.user.name }}</p>
    <p><strong>Email:</strong> {{ vendor.user.email }}</p>

    <!-- Vendor Form -->
    <form [formGroup]="vendorForm" (ngSubmit)="saveVendor()">
        <div>
            <label>Company Name</label>
            <input type="text" formControlName="company_name" />
        </div>
        <div *ngIf="vendorForm.get('company_name')?.hasError('server')" class="text-danger">
            {{vendorForm.get('company_name')?.getError('server')}}
        </div>


        <div>
            <label>Price Range</label>
            <select name="" id="" formControlName="price_range" (change)="changePrice($event)">
                <option value="$" [selected]="vendor.price_range === '$'">$</option>
                <option value="$$" [selected]="vendor.price_range === '$'">$$</option>
                <option value="$$$" [selected]="vendor.price_range === '$'">$$$</option>
            </select>
        </div>
        <div *ngIf="vendorForm.get('price_range')?.hasError('server')" class="text-danger">
            {{vendorForm.get('price_range')?.getError('server')}}
        </div>


        <div>
            <label>Location</label>
            <input type="text" formControlName="location" />
        </div>
        <div *ngIf="vendorForm.get('location')?.hasError('server')" class="text-danger">
            {{vendorForm.get('location')?.getError('server')}}
        </div>


        <button type="submit">Save</button>
    </form>
</div>